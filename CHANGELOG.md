# 更新日志 / Changelog

## [2024-01-XX] - 交易历史追踪功能

### 🆕 新增功能

#### 1. 完整交易历史记录
每个投资策略现在都会记录所有交易的详细信息：

- **交易数据**：
  - 交易日期
  - 操作类型（买入/卖出）
  - 交易价格
  - 交易数量（BTC）
  - 交易金额（USD）
  - 交易后的组合价值
  - 交易原因说明

#### 2. 可视化交易标记
在资产增长曲线图表上添加了交易点标记：

- 🔺 **绿色三角** = 买入点
- 🔶 **红色菱形** = 卖出点
- 鼠标悬停可查看交易详情

#### 3. 交易历史表格
每个策略卡片新增可展开的交易历史部分：

- **交易统计摘要**：
  - 买入次数
  - 卖出次数
  - 平均买入价
  - 平均卖出价

- **详细交易表格**：
  - 完整的交易时间线
  - 每笔交易的具体信息
  - 交易触发原因说明

#### 4. 策略交易原因说明
不同策略有针对性的交易原因描述：

- **HODL 策略**：`初始买入`
- **定投策略**：`月度定投`
- **高抛策略**：`价格上涨 35.2%，卖出 50% 止盈`
- **低吸策略**：`价格从高点回落 23.5%，抄底买入`
- **网格交易**：`网格买入：价格下跌 10.5%` / `网格卖出：价格上涨 12.3%`
- **均线交叉**：`金叉信号：7日均线上穿30日均线` / `死叉信号：7日均线下穿30日均线`

### 💡 使用价值

这个功能让用户能够：

1. **理解策略操作**：清楚看到策略在不同市场环境下如何操作
2. **学习买入时机**：通过历史数据学习最佳入场时机
3. **分析高胜率策略**：研究成功策略在历史跌幅中的具体操作
4. **验证收益来源**：了解收益是如何通过具体交易实现的
5. **制定投资计划**：基于历史交易模式制定自己的投资策略

### 🎨 UI/UX 改进

- 新增图表说明框，解释买入/卖出标记
- 优化表格样式，提高可读性
- 添加平滑展开/收起动画
- 响应式设计适配移动端
- 颜色编码清晰区分买入/卖出操作

### 📝 技术实现

- 所有6个策略都实现了完整的交易历史追踪
- 在图表上使用 Chart.js 的 scatter 点集展示交易标记
- 使用 CSS Grid 布局交易统计卡片
- 可展开/折叠的交易历史表格

### 📚 文档更新

- 更新了 `README.md` 说明新功能
- 更新了 `FEATURES.md` 详细介绍交易历史功能
- 在页面上添加了图表说明

---

## 未来计划

- [ ] 添加交易筛选功能（只看买入/卖出）
- [ ] 导出交易历史为 CSV
- [ ] 交易时间分析（最佳买入月份/日期统计）
- [ ] 交易胜率分析
